{
    "app-id": "com.endlessm.CompanionAppService",
    "branch": "@BRANCH@",
    "build-options": {
        "cflags": "-O2 -g",
        "cxxflags": "-O2 -g",
        "env": {
            "V": "1"
        }
    },
    "command": "eos-companion-app-service",
    "finish-args": [
        "--share=ipc",
        "--system-talk-name=com.endlessm.Metrics",
        "--system-talk-name=org.freedesktop.login1",
        "--filesystem=xdg-run/dconf",
        "--filesystem=~/.config/dconf:ro",
        "--filesystem=/var/lib/eos-companion-app:ro",
        "--filesystem=/var/lib/flatpak:ro",
        "--filesystem=/var/endless-extra/flatpak:ro",
        "--filesystem=host:ro",
        "--talk-name=ca.desrt.dconf",
        "--talk-name=com.endlessm.EknServices3.SearchProviderV3",
        "--talk-name=com.endlessm.EknServices2.SearchProviderV2",
        "--talk-name=com.endlessm.EknServices.SearchProviderV1",
        "--env=DCONF_USER_CONFIG_DIR=.config/dconf",
        "--share=network",
        "--command=eos-companion-app-service"
    ],
    "modules": [
        "com.endlessm.CompanionAppService.PipDependencies.json",
        {
            "name": "mustache-c",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/x86-64/mustache-c",
                    "commit": "01f1e4732c4862071bbf07242128abf1e28cc105"
                }
            ]
        },
        {
            "name": "eos-knowledge-content-renderer",
            "buildsystem": "meson",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/endlessm/eos-knowledge-content-renderer"
                }
            ]
        },
        {
            "name": "libcontentfeed",
            "buildsystem": "meson",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/endlessm/libcontentfeed"
                }
            ]
        },
        {
            "name": "gnome-bluetooth",
            "buildsystem": "meson",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/smspillaz/gnome-bluetooth",
                    "branch": "udev-optional"
                }
            ]
        },
        {
            "name": "libqrencode",
            "buildsystem": "autotools",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/fukuchi/libqrencode",
                    "branch": "v4.0.0"
                }
            ]
        },
        {
            "config-opts": [
                "--disable-integration",
                "--enable-service"
            ],
            "name": "eos-companion-app-service",
            "run-tests": "@RUN_TESTS@",
            "sources": [
                {
                    "branch": "@GIT_CLONE_BRANCH@",
                    "path": ".",
                    "type": "git"
                }
            ]
        },
        {
            "name": "android-companion-app-apk",
            "sources": [
                {
                    "dest-filename": "com.endlessm.eoscompanion.apk",
                    "sha256": "08692c5050fa3f0e0b6accee992092f0ede9d69fda5daa665d510a7884930933",
                    "url": "http://dl.apk-cloud.com/dl5/apk/2018/6/3/com.endlessm.eoscompanion_1000115.apk?f=Endless%20Companion_0.1.15_apk-dl.com.apk&id=com.endlessm.eoscompanion",
                    "type": "file"
                }
            ],
            "buildsystem": "simple",
            "build-commands": [
                "mkdir -p $FLATPAK_DEST/share/apk",
                "cp com.endlessm.eoscompanion.apk \"$FLATPAK_DEST/share/apk/com.endlessm.eoscompanion.apk\""
            ]
        }
    ],
    "runtime": "com.endlessm.apps.Platform",
    "runtime-version": "3",
    "sdk": "com.endlessm.apps.Sdk"
}
